<form method="post" action="/cart/add" enctype="multipart/form-data" >
   <!--product variants-->
   {% unless product.has_only_default_variant %}
 
  
  
  {%- liquid
      assign swatch_trigger = 'products.general.color_swatch_trigger' | t | downcase
      assign swatch_file_extension = 'png'
      assign color_count = 0
    -%}

    {%- for option in product.options_with_values -%}
      {%- liquid
        assign option_name = option.name | downcase
        assign is_color = false
        if option_name contains swatch_trigger
          assign is_color = true
        elsif swatch_trigger == 'color' and option_name contains 'colour'
          assign is_color = true
        endif
      -%}
      {%- if is_color -%}
        {%- assign option_index = forloop.index0 -%}
        {%- assign values = '' -%}
        <div class="grid-product__colors grid-product__colors--{{ product.id }}">
          {%- for variant in product.variants -%}
            {%- assign value = variant.options[option_index] %}
            {%- unless values contains value -%}
              {%- liquid
                assign values = values | join: ',' | append: ',' | append: value | split: ','

                assign color_file_name = value | handle | append: '.' | append: swatch_file_extension
                assign color_image = color_file_name | file_img_url: '50x50' | prepend: 'https:' | split: '?' | first
                assign color_swatch_fallback = value | split: ' ' | last | handle
                assign color_count = color_count | plus: 1
              -%}
			  <label for="variant_{{ option-name }}-{{ product-handle }}-{{ forloop.index0 }}"
            class="single-product-option-{{ option-name }}__label color-swatch {% if stripped-value contains 'white' %}single-product-option-{{ option-name }}__label--white{% endif %}"
            >      
         <input type="radio"
         class="single-option-selector color-swatch single-product-option-{{ option-name }}__input js-radio-button"
       {% if variant.image %}
                  data-variant-id="{{ variant.id }}"
                  data-variant-image="{{ variant.image | img_url: '400x' }}"
                {% endif %}
        checked="checked"  
         id="variant_{{ option-name }}-{{ product-handle }}-{{ forloop.index0 }}"/>
               <span class="swatch" style="background-color: {{ color_swatch_fallback }}"> </span>

         </label>
              
            {%- endunless -%}
           {%- endfor -%}
        </div>
    
      {%- endif -%}
    {%- endfor -%}
  
  
  
  
  
  
  
  
  
  
  
   {% endunless %}
   <!--product add to cart-->
  <input type= "hidden"  name="id" min="1" value="{{ product.selected_or_first_available_variant.id }}" />
  <input type="hidden" id="quaninty" name="quantity" min="1" value="1" />
   <button
   class="single-product__add-to-cart u-b6 js-ajax-add-to-cart"
   type="submit"
   name="add"
   data-add-to-cart
   {% unless product.available %}disabled="disabled"{% endunless %}>
   <span data-add-to-cart-text>
   {% if product.available %}
   Add To Cart
   {% else %}
   Sold Out
   {% endif %}
   </span>
   </button>
   <!--end product add to cart-->
</form>